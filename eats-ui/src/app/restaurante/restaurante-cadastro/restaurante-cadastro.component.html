<p *ngIf="mensagem">
  {{ mensagem }}
</p>

<form #restauranteForm="ngForm" (ngSubmit)="salvaRestaurante()">

  <div>
      <label for="nome">Nome:</label>
      <input [(ngModel)]="restaurante.nome" type="text" required id="nome" name="nome" #nome>
  </div>

  <div>
    <label for="nome">CNPJ:</label>
    <input [(ngModel)]="restaurante.cnpj" placeholder="00.000.000/0000-00" maxlength="18" type="text" required id="cnpj" name="cnpj" #cnpj>
  </div>

  <div>
    <label for="tipoDeCozinha">Tipo de cozinha:</label>
    <select [(ngModel)]="restaurante.tipoDeCozinha.id" required id="tipoDeCozinha" name="tipoDeCozinha" #tipoDeCozinha>
      <option *ngFor="let tipo of tiposDeCozinha" [value]="tipo.id">{{tipo.nome}}</option>
    </select>
  </div>

  <div>
    <label for="descricao">Descrição:</label>
    <textarea [(ngModel)]="restaurante.descricao" type="text" id="descricao" name="descricao" #descricao></textarea>
  </div>

  <div>
    <label for="taxaDeEntregaEmReais">Taxa de entrega (em R$):</label>
  <input [(ngModel)]="restaurante.taxaDeEntregaEmReais" type="text" id="taxaDeEntregaEmReais" name="taxaDeEntregaEmReais" #taxaDeEntregaEmReais>
  </div>

  <div>
    <label for="tempoDeEntregaMinimoEmMinutos">Tempo de entrega mínimo (em minutos):</label>
  <input [(ngModel)]="restaurante.tempoDeEntregaMinimoEmMinutos" type="number" min="10" max="180" id="tempoDeEntregaMinimoEmMinutos" name="tempoDeEntregaMinimoEmMinutos" #tempoDeEntregaMinimoEmMinutos>
  </div>

  <div>
    <label for="tempoDeEntregaMaximoEmMinutos">Tempo de entrega máximo (em minutos):</label>
  <input [(ngModel)]="restaurante.tempoDeEntregaMaximoEmMinutos" type="number" min="10" max="180" id="tempoDeEntregaMaximoEmMinutos" name="tempoDeEntregaMaximoEmMinutos" #tempoDeEntregaMaximoEmMinutos>
  </div>

  <button type="submit" [disabled]="!restauranteForm.form.valid">{{ restaurante.id ? 'Atualizar' : 'Inserir' }}</button>

</form>

<div *ngIf="!restaurante.id; else restauranteTemId">
    <a routerLink="/">Cancelar</a>
  </div>
  <ng-template #restauranteTemId>

    <div>
      <app-horarios-de-funcionamento-listagem [restaurante]="restaurante"></app-horarios-de-funcionamento-listagem>
    </div>

    <div>
      <app-formas-de-pagamento-listagem [restaurante]="restaurante"></app-formas-de-pagamento-listagem>
    </div>

  </ng-template>
